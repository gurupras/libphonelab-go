data_collector:
  name: "alarm_temp_collector"
  args:
    path: file:///phonelab/mobicom17-alarms/data
    aggregate: false
    compress: true

source:
  type: phonelab
  #sources: ["/phonelab/mobicom17-alarms/data/ac23ab520925fca80ab4b451eb1451f3c0973f47/info.json"]
  #sources: ["/processed/cb63cb9bb9ad1ea9fcfab53403820c7c084621ab/info.json"]
  sources: ["/processed/cb63cb9bb9ad1ea9fcfab53403820c7c084621ab/info.json"]
  args:
    hdfs_addr: dirtydeeds.cse.buffalo.edu:9000
    daterange: 20170310-20170420
processors:
  - name: alarm_temp_processor
    has_logstream: true
    filters:
      - type: simple
        filter: "thermal_temp:"
      - type: simple
        filter: "deliverAlarmsLocked"
    parsers:
      - "Kernel-Trace"
      - "ThermaPlan->AlarmManagerService"

sink:
  name: alarm_temp_processor
